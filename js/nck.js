$('#nck-open-mobile-menu').click(function(){$('#nck-mobile-menu').toggleClass('nck-open-mobile-menu');});$('#nck-open-mobile-search').click(function(){$('#nck-mobile-search').toggleClass('nck-open-mobile-search');});$(document).ready(function() {$('#nck-search').keyup(function(event) {$('#nck-search-result').html('');var searchField = $('#nck-search').val();var expression = new RegExp(searchField, "i");$.getJSON('/data.json',function(data) {$.each(data, function(key, value) {if (value.name.search(expression) != -1 || value.location.search(expression) != -1){ $('#nck-search-result').append('<li><a href="'+value.link+'"> '+value.name+'</a></li>');}});});});});function generateRandomPosts(){$.getJSON("/data.json", function(data) {var postsCount = data.length;var posts = data;var counter = 0;var numberOfPosts = 5;var used = [];var divRandomPosts = $("#random_posts");while (counter < numberOfPosts){var randomNumber = Math.floor(Math.random() * postsCount);var postLink = posts[randomNumber].link;var postName = posts[randomNumber].name;var postImage = posts[randomNumber].image;if (used.indexOf(randomNumber) == "-1"){divRandomPosts.append('<li><div class="thumbnail"><a href="' + postLink + '" target="_blank"><img alt="" src="' + postImage + '"/></a></div><div class="item-title"><a href="' + postLink + '">' + postName + '</a></div></div>');used.push(randomNumber);}counter++;}});}$(document).ready(function() {generateRandomPosts();});$('body').on('click', 'a[href]', function (e){e.preventDefault();var link = this.href;$.get(link,"", function(data_html){var title = data_html.split('<title>')[1].split('</title>')[0];var body = data_html.split('<body>')[1].split('</body>')[0];$("title").html(title);$("body").html(body);window.history.pushState("","", link);$('body').animate({scrollTop:0},300);});});